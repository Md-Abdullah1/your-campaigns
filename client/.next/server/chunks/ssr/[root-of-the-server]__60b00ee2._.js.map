{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 82, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Admin/Desktop/projects/campaign-management-system/client/src/services/apiClient.js"],"sourcesContent":["// src/services/apiClient.js\r\nimport axios from 'axios';\r\n\r\nconst API_BASE_URL = 'http://localhost:5000/api'; // Change if needed\r\n\r\n// Create basic Axios instance without interceptor\r\nconst apiClient = axios.create({\r\n  baseURL: API_BASE_URL,\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n});\r\n\r\nexport default apiClient;"],"names":[],"mappings":"AAAA,4BAA4B;;;;;AAC5B;;AAEA,MAAM,eAAe,6BAA6B,mBAAmB;AAErE,kDAAkD;AAClD,MAAM,YAAY,gJAAK,CAAC,MAAM,CAAC;IAC7B,SAAS;IACT,SAAS;QACP,gBAAgB;IAClB;AACF;uCAEe","debugId":null}},
    {"offset": {"line": 102, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Admin/Desktop/projects/campaign-management-system/client/src/helpers/GetAuthHeaders.js"],"sourcesContent":["// Helper to get auth headers\r\nexport const getAuthHeaders = () => {\r\n  const token = localStorage.getItem(\"token\");\r\n  return {\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n  };\r\n};\r\n"],"names":[],"mappings":"AAAA,6BAA6B;;;;;AACtB,MAAM,iBAAiB;IAC5B,MAAM,QAAQ,aAAa,OAAO,CAAC;IACnC,OAAO;QACL,SAAS;YACP,eAAe,CAAC,OAAO,EAAE,OAAO;YAChC,gBAAgB;QAClB;IACF;AACF","debugId":null}},
    {"offset": {"line": 120, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Admin/Desktop/projects/campaign-management-system/client/src/services/leadService.js"],"sourcesContent":["// src/services/leadService.js\r\nimport apiClient from \"./apiClient\";\r\nimport { fetchSuccess, setError, setLoading } from \"../redux/Slices/LeadsSlice\";\r\nimport { getAuthHeaders } from \"@/helpers/GetAuthHeaders\";\r\n\r\nexport const getLeadsByCampaign = (dispatch, campaignId) => {\r\n  dispatch(setLoading());\r\n  apiClient\r\n    .get(`/leads/campaign/${campaignId}`, getAuthHeaders())\r\n    .then((response) => {\r\n      dispatch(fetchSuccess(response.data));\r\n    })\r\n    .catch((err) => {\r\n      const message = err.response?.data?.message || \"Failed to fetch leads\";\r\n      dispatch(setError(message));\r\n    });\r\n};\r\n\r\nexport const getAllLeads = (dispatch) => {\r\n  dispatch(setLoading());\r\n  apiClient\r\n    .get(\"/leads\", getAuthHeaders()) // GET /api/leads\r\n    .then((response) => {\r\n      dispatch(fetchSuccess(response.data));\r\n    })\r\n    .catch((err) => {\r\n      const message = err.response?.data?.message || \"Failed to fetch leads\";\r\n      dispatch(setError(message));\r\n    });\r\n};\r\n"],"names":[],"mappings":"AAAA,8BAA8B;;;;;;;AAC9B;AACA;AACA;;;;AAEO,MAAM,qBAAqB,CAAC,UAAU;IAC3C,SAAS,IAAA,kJAAU;IACnB,uIAAS,CACN,GAAG,CAAC,CAAC,gBAAgB,EAAE,YAAY,EAAE,IAAA,kJAAc,KACnD,IAAI,CAAC,CAAC;QACL,SAAS,IAAA,oJAAY,EAAC,SAAS,IAAI;IACrC,GACC,KAAK,CAAC,CAAC;QACN,MAAM,UAAU,IAAI,QAAQ,EAAE,MAAM,WAAW;QAC/C,SAAS,IAAA,gJAAQ,EAAC;IACpB;AACJ;AAEO,MAAM,cAAc,CAAC;IAC1B,SAAS,IAAA,kJAAU;IACnB,uIAAS,CACN,GAAG,CAAC,UAAU,IAAA,kJAAc,KAAI,iBAAiB;KACjD,IAAI,CAAC,CAAC;QACL,SAAS,IAAA,oJAAY,EAAC,SAAS,IAAI;IACrC,GACC,KAAK,CAAC,CAAC;QACN,MAAM,UAAU,IAAI,QAAQ,EAAE,MAAM,WAAW;QAC/C,SAAS,IAAA,gJAAQ,EAAC;IACpB;AACJ","debugId":null}},
    {"offset": {"line": 156, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Admin/Desktop/projects/campaign-management-system/client/src/app/leads/page.js"],"sourcesContent":["// src/app/leads/page.js\r\n\"use client\";\r\n\r\nimport { useEffect } from \"react\";\r\nimport { useAppDispatch, useAppSelector } from \"../../redux/store/hooks\";\r\nimport { getAllLeads } from \"../../services/leadService\";\r\nimport Link from \"next/link\";\r\n\r\nexport default function LeadsPage() {\r\n  const dispatch = useAppDispatch();\r\n  const {\r\n    list: leads,\r\n    isLoading,\r\n    error,\r\n  } = useAppSelector((state) => state.leads);\r\n\r\n  // ✅ Correct: Fetch real leads on component mount\r\n  useEffect(() => {\r\n    getAllLeads(dispatch); // ← Properly call the service\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      {/* Page Header */}\r\n      <div className=\"bg-white shadow\">\r\n        <div className=\"max-w-7xl mx-auto px-4 py-6 sm:px-6 lg:px-8\">\r\n          <h1 className=\"text-2xl font-bold text-gray-900\">All Leads</h1>\r\n          <p className=\"mt-1 text-sm text-gray-600\">\r\n            View and manage all leads generated from your campaigns.\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n        {/* Error Alert */}\r\n        {error && (\r\n          <div className=\"mb-6 p-3 bg-red-100 border border-red-200 text-red-700 rounded text-sm\">\r\n            {error}\r\n          </div>\r\n        )}\r\n\r\n        {/* Table */}\r\n        {isLoading ? (\r\n          <div className=\"bg-white shadow rounded-lg p-6 text-center\">\r\n            <p className=\"text-gray-600\">Loading leads...</p>\r\n          </div>\r\n        ) : leads.length === 0 ? (\r\n          <div className=\"bg-white shadow rounded-lg p-6 text-center\">\r\n            <p className=\"text-gray-600\">No leads found.</p>\r\n          </div>\r\n        ) : (\r\n          <div className=\"bg-white shadow overflow-hidden sm:rounded-lg\">\r\n            <table className=\"min-w-full divide-y divide-gray-200\">\r\n              <thead className=\"bg-gray-50\">\r\n                <tr>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Name & Email\r\n                  </th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Phone\r\n                  </th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Campaign\r\n                  </th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Status\r\n                  </th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Source\r\n                  </th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Date\r\n                  </th>\r\n                </tr>\r\n              </thead>\r\n              <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                {leads.map((lead) => (\r\n                  <tr key={lead.id} className=\"hover:bg-gray-50\">\r\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                      <div className=\"text-sm font-medium text-gray-900\">\r\n                        {lead.name}\r\n                      </div>\r\n                      <div className=\"text-sm text-gray-500\">{lead.email}</div>\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                      {lead.phone || \"-\"}\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                      <Link href={`/campaigns/${lead.campaignId}/edit`}>\r\n                        <span className=\"text-indigo-600 hover:text-indigo-900 cursor-pointer font-medium\">\r\n                          {lead.campaignName}\r\n                        </span>\r\n                      </Link>\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                      <span\r\n                        className={`inline-flex px-2 text-xs leading-5 font-semibold rounded-full ${\r\n                          lead.status === \"new\"\r\n                            ? \"bg-yellow-100 text-yellow-800\"\r\n                            : lead.status === \"contacted\"\r\n                            ? \"bg-blue-100 text-blue-800\"\r\n                            : lead.status === \"qualified\"\r\n                            ? \"bg-indigo-100 text-indigo-800\"\r\n                            : lead.status === \"converted\"\r\n                            ? \"bg-green-100 text-green-800\"\r\n                            : \"bg-gray-100 text-gray-800\"\r\n                        }`}\r\n                      >\r\n                        {lead.status}\r\n                      </span>\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 truncate max-w-xs\">\r\n                      {lead.source}\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                      {new Date(lead.createdAt).toLocaleDateString()}\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"AAAA,wBAAwB;;;;;;AAGxB;AACA;AACA;AACA;AALA;;;;;;AAOe,SAAS;IACtB,MAAM,WAAW,IAAA,gJAAc;IAC/B,MAAM,EACJ,MAAM,KAAK,EACX,SAAS,EACT,KAAK,EACN,GAAG,IAAA,gJAAc,EAAC,CAAC,QAAU,MAAM,KAAK;IAEzC,iDAAiD;IACjD,IAAA,kNAAS,EAAC;QACR,IAAA,6IAAW,EAAC,WAAW,8BAA8B;IACvD,GAAG;QAAC;KAAS;IAEb,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAG,WAAU;sCAAmC;;;;;;sCACjD,8OAAC;4BAAE,WAAU;sCAA6B;;;;;;;;;;;;;;;;;0BAM9C,8OAAC;gBAAI,WAAU;;oBAEZ,uBACC,8OAAC;wBAAI,WAAU;kCACZ;;;;;;oBAKJ,0BACC,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;4BAAE,WAAU;sCAAgB;;;;;;;;;;+BAE7B,MAAM,MAAM,KAAK,kBACnB,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;4BAAE,WAAU;sCAAgB;;;;;;;;;;6CAG/B,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;4BAAM,WAAU;;8CACf,8OAAC;oCAAM,WAAU;8CACf,cAAA,8OAAC;;0DACC,8OAAC;gDAAG,WAAU;0DAAiF;;;;;;0DAG/F,8OAAC;gDAAG,WAAU;0DAAiF;;;;;;0DAG/F,8OAAC;gDAAG,WAAU;0DAAiF;;;;;;0DAG/F,8OAAC;gDAAG,WAAU;0DAAiF;;;;;;0DAG/F,8OAAC;gDAAG,WAAU;0DAAiF;;;;;;0DAG/F,8OAAC;gDAAG,WAAU;0DAAiF;;;;;;;;;;;;;;;;;8CAKnG,8OAAC;oCAAM,WAAU;8CACd,MAAM,GAAG,CAAC,CAAC,qBACV,8OAAC;4CAAiB,WAAU;;8DAC1B,8OAAC;oDAAG,WAAU;;sEACZ,8OAAC;4DAAI,WAAU;sEACZ,KAAK,IAAI;;;;;;sEAEZ,8OAAC;4DAAI,WAAU;sEAAyB,KAAK,KAAK;;;;;;;;;;;;8DAEpD,8OAAC;oDAAG,WAAU;8DACX,KAAK,KAAK,IAAI;;;;;;8DAEjB,8OAAC;oDAAG,WAAU;8DACZ,cAAA,8OAAC,uKAAI;wDAAC,MAAM,CAAC,WAAW,EAAE,KAAK,UAAU,CAAC,KAAK,CAAC;kEAC9C,cAAA,8OAAC;4DAAK,WAAU;sEACb,KAAK,YAAY;;;;;;;;;;;;;;;;8DAIxB,8OAAC;oDAAG,WAAU;8DACZ,cAAA,8OAAC;wDACC,WAAW,CAAC,8DAA8D,EACxE,KAAK,MAAM,KAAK,QACZ,kCACA,KAAK,MAAM,KAAK,cAChB,8BACA,KAAK,MAAM,KAAK,cAChB,kCACA,KAAK,MAAM,KAAK,cAChB,gCACA,6BACJ;kEAED,KAAK,MAAM;;;;;;;;;;;8DAGhB,8OAAC;oDAAG,WAAU;8DACX,KAAK,MAAM;;;;;;8DAEd,8OAAC;oDAAG,WAAU;8DACX,IAAI,KAAK,KAAK,SAAS,EAAE,kBAAkB;;;;;;;2CAtCvC,KAAK,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiDlC","debugId":null}}]
}